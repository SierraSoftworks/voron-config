[gcode_macro M141]
gcode:
    {% set temp = [params.S|default("25")|float, 35] | max %}

    SET_TEMPERATURE_FAN_TARGET temperature_fan="extractor" target={s}

[gcode_macro M191]
gcode:
    {% set temp = params.S|default("25")|float %}
    {% set minimum = [0, temp]|max %}
    {% set maximum = [35, temp+1]|max %}

    _STATUS_HEATING
    _NOTIFY T="Heating Chamber to {{ temp }}C"
    M141 S{s}

    TEMPERATURE_WAIT SENSOR="temperature_sensor chamber" MINIMUN={minimum} MAXIMUM={maximum}